var _0xbb1d=["\x63\x61\x6E\x76\x61\x73","\x63\x72\x65\x61\x74\x65\x45\x6C\x65\x6D\x65\x6E\x74","\x32\x64","\x67\x65\x74\x43\x6F\x6E\x74\x65\x78\x74","\x77\x69\x64\x74\x68","\x69\x6E\x6E\x65\x72\x57\x69\x64\x74\x68","\x68\x65\x69\x67\x68\x74","\x69\x6E\x6E\x65\x72\x48\x65\x69\x67\x68\x74","\x61\x70\x70\x65\x6E\x64\x43\x68\x69\x6C\x64","\x62\x6F\x64\x79","\x6F\x6E\x6C\x6F\x61\x64","\x73\x72\x63","\x74\x69\x6C\x65\x73\x2F\x62\x61\x63\x6B\x67\x72\x6F\x75\x6E\x64\x2E\x70\x6E\x67","\x74\x69\x6C\x65\x73\x2F\x62\x72\x69\x63\x6B\x31\x2E\x70\x6E\x67","\x74\x69\x6C\x65\x73\x2F\x66\x6C\x6F\x6F\x72\x2E\x70\x6E\x67","\x74\x69\x6C\x65\x73\x2F\x66\x69\x6C\x6C\x2E\x70\x6E\x67","\x66\x6C\x6F\x6F\x72","\x65\x6E\x74\x69\x74\x69\x65\x73\x2F\x70\x6C\x61\x79\x65\x72\x2E\x70\x6E\x67","\x69\x74\x65\x6D\x73\x2F\x68\x61\x74\x73\x2F","\x73\x70\x65\x65\x64","\x65\x6E\x74\x69\x74\x69\x65\x73\x2F\x6E\x70\x63\x2E\x70\x6E\x67","\x69\x74\x65\x6D\x73\x2F\x73\x74\x61\x69\x72\x2E\x70\x6E\x67","\x62\x6F\x6D\x62","\x69\x74\x65\x6D\x73\x2F\x49\x43\x45\x5F\x61\x72\x6D\x31\x5F\x72\x65\x64\x2E\x70\x6E\x67","\x70\x75\x64\x64\x6C\x65\x43","\x70\x75\x64\x64\x6C\x65","\x69\x74\x65\x6D\x73\x2F\x70\x75\x64\x64\x6C\x65\x32\x2E\x70\x6E\x67","\x66\x72\x65\x65\x7A\x65","\x69\x74\x65\x6D\x73\x2F\x49\x43\x45\x5F\x61\x72\x6D\x31\x2E\x70\x6E\x67","\x78","\x79","\x76\x61\x6C\x75\x65","\x6D\x6F\x6E\x65\x79\x50\x4E\x47","\x69\x74\x65\x6D\x73\x2F\x69\x74\x65\x6D\x73\x32\x2F\x50\x69\x63\x6B\x75\x70\x5F","\x2E\x70\x6E\x67","\x2D\x2D","\x70\x75\x73\x68","\x61\x72\x72\x6F\x77\x73","\x57\x41\x53\x44","\x66\x6F\x63\x75\x73","\x74\x61\x70","\x6B\x65\x79\x43\x6F\x64\x65","\x75\x70","\x64\x6F\x77\x6E","\x6C\x65\x66\x74","\x72\x69\x67\x68\x74","\x6B\x65\x79\x64\x6F\x77\x6E","\x69\x6E\x64\x65\x78\x4F\x66","\x70\x72\x65\x76\x65\x6E\x74\x44\x65\x66\x61\x75\x6C\x74","\x61\x64\x64\x45\x76\x65\x6E\x74\x4C\x69\x73\x74\x65\x6E\x65\x72","\x6C\x65\x6E\x67\x74\x68","\x55\x6E\x72\x65\x61\x63\x68\x61\x62\x6C\x65\x20\x6F\x72\x20\x61\x6C\x72\x65\x61\x64\x79\x20\x74\x68\x65\x72\x65","\x6C\x6F\x67","","\x2C\x20","\x69\x73\x41\x72\x72\x61\x79","\x72\x6F\x6F\x6D\x73","\x72\x61\x6E\x64\x6F\x6D","\x63\x68\x65\x63\x6B\x65\x64","\x67\x72\x69\x64","\x67\x65\x74\x45\x6C\x65\x6D\x65\x6E\x74\x42\x79\x49\x64","\x74\x69\x6C\x65\x73\x2F\x66\x6C\x6F\x6F\x72\x32\x2E\x70\x6E\x67","\x70\x6C\x61\x63\x65\x64","\x69\x6E\x67\x61\x6D\x65","\x63\x65\x69\x6C","\x68","\x76","\x61\x62\x73","\x4E\x45\x57\x20\x4D\x41\x50\x20\x47\x45\x4E\x45\x52\x41\x54\x49\x4E\x47\x21","\x77\x61\x6C\x6C\x73","\x64\x72\x61\x77\x49\x6D\x61\x67\x65","\x69\x6E\x6E\x65\x72\x48\x54\x4D\x4C","\x73\x63\x6F\x72\x65","\x4C\x45\x56\x45\x4C\x3A\x20","\x69\x74\x65\x6D\x73\x2F\x69\x74\x65\x6D\x73\x32\x2F\x42\x75\x63\x6B\x65\x74\x5F\x57\x61\x74\x65\x72\x2E\x70\x6E\x67","\x73\x70\x6C\x69\x63\x65","\x69\x74\x65\x6D\x73\x2F\x49\x43\x45\x5F\x61\x72\x6D","\x5F\x72\x65\x64\x2E\x70\x6E\x67","\x72\x6F\x75\x6E\x64","\x43\x6F\x69\x6E\x5F\x43\x6F\x70\x70\x65\x72","\x43\x6F\x69\x6E\x5F\x53\x69\x6C\x76\x65\x72","\x43\x6F\x69\x6E\x5F\x47\x6F\x6C\x64","\x42\x69\x6C\x6C","\x6E\x61\x6D\x65","\x69\x6E\x76\x65\x6E\x74\x6F\x72\x79","\x49\x6E\x76\x65\x6E\x74\x6F\x72\x79\x3A\x20","\x77\x61\x6C\x6C\x65\x74","\x57\x61\x6C\x6C\x65\x74\x3A\x20\x24","\x72\x65\x70\x65\x61\x74","\x63\x72\x65\x61\x74\x65\x50\x61\x74\x74\x65\x72\x6E","\x66\x69\x6C\x6C\x53\x74\x79\x6C\x65","\x66\x69\x6C\x6C\x52\x65\x63\x74","\x6E\x6F\x77","\x6B\x65\x79\x75\x70","\x6B\x65\x79\x70\x72\x65\x73\x73","\x72\x65\x71\x75\x65\x73\x74\x41\x6E\x69\x6D\x61\x74\x69\x6F\x6E\x46\x72\x61\x6D\x65","\x77\x65\x62\x6B\x69\x74\x52\x65\x71\x75\x65\x73\x74\x41\x6E\x69\x6D\x61\x74\x69\x6F\x6E\x46\x72\x61\x6D\x65","\x6D\x73\x52\x65\x71\x75\x65\x73\x74\x41\x6E\x69\x6D\x61\x74\x69\x6F\x6E\x46\x72\x61\x6D\x65","\x6D\x6F\x7A\x52\x65\x71\x75\x65\x73\x74\x41\x6E\x69\x6D\x61\x74\x69\x6F\x6E\x46\x72\x61\x6D\x65","\x55\x73\x65\x20\x74\x68\x65\x20\x61\x72\x72\x6F\x77\x20\x6B\x65\x79\x73\x20\x6F\x72\x20\x57\x41\x53\x44\x20\x74\x6F\x20\x6D\x6F\x76\x65\x0A\x55\x73\x65\x20\x31\x2D\x33\x20\x74\x6F\x20\x61\x63\x74\x69\x76\x61\x74\x65\x20\x61\x6E\x20\x69\x74\x65\x6D\x20\x69\x6E\x20\x74\x68\x65\x20\x69\x6E\x76\x65\x6E\x74\x6F\x72\x79\x0A\x47\x65\x74\x20\x74\x6F\x20\x74\x68\x65\x20\x73\x74\x61\x69\x72\x73\x20\x62\x65\x66\x6F\x72\x65\x20\x74\x68\x65\x20\x4E\x50\x43\x20\x72\x65\x61\x63\x68\x65\x73\x20\x79\x6F\x75\x21","\x47\x61\x6D\x65\x20\x61\x6E\x64\x20\x70\x72\x6F\x67\x72\x61\x6D\x6D\x69\x6E\x67\x20\x62\x79\x20\x4D\x69\x6C\x6B\x20\x43\x68\x61\x72\x69\x74\x79\x0A\x41\x72\x74\x20\x61\x6E\x64\x20\x6C\x65\x76\x65\x6C\x20\x64\x65\x73\x69\x67\x6E\x20\x62\x79\x20\x41\x6E\x74\x6F\x6E\x20\x52\x6F\x73\x73\x0A\x0A\x56\x69\x73\x69\x74\x20\x52\x6F\x67\x75\x65\x43\x75\x62\x65\x2E\x63\x6F\x6D\x20\x66\x6F\x72\x20\x6D\x6F\x72\x65\x20\x67\x61\x6D\x65\x73\x0A\x20\x52\x6F\x67\x75\x65\x20\x43\x75\x62\x65\x20\x32\x30\x31\x35","\x58\x3A\x20","\x09\x59\x3A\x20"];var canvas=document[_0xbb1d[1]](_0xbb1d[0]);var ctx=canvas[_0xbb1d[3]](_0xbb1d[2]);canvas[_0xbb1d[4]]=window[_0xbb1d[5]]-22;canvas[_0xbb1d[6]]=window[_0xbb1d[7]]-67;document[_0xbb1d[9]][_0xbb1d[8]](canvas);var bgReady=false;var bgImage= new Image();bgImage[_0xbb1d[10]]=function(){bgReady=true};bgImage[_0xbb1d[11]]=_0xbb1d[12];var wallReady=false;var wallPNG= new Image();wallPNG[_0xbb1d[10]]=function(){wallReady=true};wallPNG[_0xbb1d[11]]=_0xbb1d[13];var floorReady=false;var floorPNG= new Image();floorPNG[_0xbb1d[10]]=function(){floorReady=true};floorPNG[_0xbb1d[11]]=_0xbb1d[14];var fillReady=false;var fillPNG= new Image();fillPNG[_0xbb1d[10]]=function(){fillReady=true};fillPNG[_0xbb1d[11]]=_0xbb1d[15];var map=[];var mapSet=false;var walls=[];var rows=Math[_0xbb1d[16]](canvas[_0xbb1d[6]]/32);var cols=Math[_0xbb1d[16]](canvas[_0xbb1d[4]]/32);var player={speed:5,x:3,y:3};var playerReady=false;var playerPNG= new Image();playerPNG[_0xbb1d[10]]=function(){playerReady=true};playerPNG[_0xbb1d[11]]=_0xbb1d[17];var turns=0;var activeTurn=-1;var hat={x:3,y:3};var hatReady=false;var hatPNG= new Image();hatPNG[_0xbb1d[10]]=function(){hatReady=true};hatPNG[_0xbb1d[11]]=_0xbb1d[18];var npc={speed:player[_0xbb1d[19]],x:8,y:8,ingame:true};var npcReady=false;var npcPNG= new Image();npcPNG[_0xbb1d[10]]=function(){npcReady=true};npcPNG[_0xbb1d[11]]=_0xbb1d[20];var target=player;var hole={x:10,y:16};var holeReady=false;var holePNG= new Image();holePNG[_0xbb1d[10]]=function(){holeReady=true};holePNG[_0xbb1d[11]]=_0xbb1d[21];var bomb={x:20,y:0,name:_0xbb1d[22],ingame:false,placed:false};var bombReady=false;var bombPNG= new Image();bombPNG[_0xbb1d[10]]=function(){bombReady=true};bombPNG[_0xbb1d[11]]=_0xbb1d[23];var bombTime=1;var puddleCopy={x:1,y:1,name:_0xbb1d[24],ingame:false};var puddle={x:1,y:1,name:_0xbb1d[25],ingame:false,placed:false};var puddleReady=false;var puddlePNG= new Image();puddlePNG[_0xbb1d[10]]=function(){puddleReady=true};puddlePNG[_0xbb1d[11]]=_0xbb1d[26];var freeze={x:24,y:0,name:_0xbb1d[27],ingame:false,placed:false};var freezeReady=false;var freezePNG= new Image();freezePNG[_0xbb1d[10]]=function(){freezeReady=true};freezePNG[_0xbb1d[11]]=_0xbb1d[28];function money(_0x4ad0x2b,_0x4ad0x2c,_0x4ad0x2d,_0x4ad0x2e){this[_0xbb1d[29]]=_0x4ad0x2b;this[_0xbb1d[30]]=_0x4ad0x2c;this[_0xbb1d[31]]=_0x4ad0x2d;this[_0xbb1d[32]]= new Image();this[_0xbb1d[32]][_0xbb1d[11]]=_0xbb1d[33]+_0x4ad0x2e+_0xbb1d[34];}var maxCash=10;var wallet=0;var inventory=[_0xbb1d[35],_0xbb1d[35],_0xbb1d[35]];var itemFull=false;var itemList=[bomb,puddle,freeze];var frontier=[];var start=[npc[_0xbb1d[29]],npc[_0xbb1d[30]]];frontier[_0xbb1d[36]](start);var closedCells=[];closedCells[_0xbb1d[36]](start);var index=0;var parents=[];var moveKey=null;var npcCanMove=false;var tapMove=true;var holdMove=false;var canMove=false;var speedTime;var upKey=38;var downKey=40;var leftKey=37;var rightKey=39;var score=0;var playing=true;function switchHands(_0x4ad0x2d){if(_0x4ad0x2d==_0xbb1d[37]){upKey=38;downKey=40;leftKey=37;rightKey=39;}else {if(_0x4ad0x2d==_0xbb1d[38]){upKey=87;downKey=83;leftKey=65;rightKey=68;}};canvas[_0xbb1d[39]]();}function switchMove(_0x4ad0x2d){if(_0x4ad0x2d==_0xbb1d[40]){tapMove=true;holdMove=false;}else {tapMove=false;holdMove=true;}}var counter=0;function moveType(_0x4ad0x49){if(tapMove&&moveKey===null){canMove=true;turns++;move(_0x4ad0x49);}else {if(holdMove){if(moveKey===null){canMove=true;move(_0x4ad0x49);turns++;};if(_0x4ad0x49[_0xbb1d[41]]==upKey||_0x4ad0x49[_0xbb1d[41]]==downKey||_0x4ad0x49[_0xbb1d[41]]==leftKey||_0x4ad0x49[_0xbb1d[41]]==rightKey){counter++};if(counter%player[_0xbb1d[19]]===0&&counter!==0){pathNPC();canMove=true;move(_0x4ad0x49);turns++;counter=0;};}}}function move(_0x4ad0x49){if(canMove){moveKey=_0x4ad0x49[_0xbb1d[41]];if(_0x4ad0x49[_0xbb1d[41]]==upKey&&moveNext(player,_0xbb1d[42])){player[_0xbb1d[30]]-=1;moveKey=upKey;canMove=false;}else {if(_0x4ad0x49[_0xbb1d[41]]==downKey&&moveNext(player,_0xbb1d[43])){player[_0xbb1d[30]]+=1;moveKey=downKey;canMove=false;}else {if(_0x4ad0x49[_0xbb1d[41]]==leftKey&&moveNext(player,_0xbb1d[44])){player[_0xbb1d[29]]-=1;moveKey=leftKey;canMove=false;}else {if(_0x4ad0x49[_0xbb1d[41]]==rightKey&&moveNext(player,_0xbb1d[45])){player[_0xbb1d[29]]+=1;moveKey=rightKey;canMove=false;}}}};}}function resetKey(_0x4ad0x49){if(moveKey==_0x4ad0x49[_0xbb1d[41]]){moveKey=null;counter=0;npcCanMove=false;canMove=false;}}function moveNext(_0x4ad0x4d,_0x4ad0x4e){var _0x4ad0x4f=_0x4ad0x4d[_0xbb1d[29]];var _0x4ad0x50=_0x4ad0x4d[_0xbb1d[30]];if(_0x4ad0x4e==_0xbb1d[42]){if(map[_0x4ad0x50-1][_0x4ad0x4f]===0){return true}else {return false}};if(_0x4ad0x4e==_0xbb1d[43]){if(map[_0x4ad0x50+1][_0x4ad0x4f]===0){return true}else {return false}};if(_0x4ad0x4e==_0xbb1d[44]){if(map[_0x4ad0x50][_0x4ad0x4f-1]===0){return true}else {return false}};if(_0x4ad0x4e==_0xbb1d[45]){if(map[_0x4ad0x50][_0x4ad0x4f+1]===0){return true}else {return false}};}window[_0xbb1d[49]](_0xbb1d[46],function(_0x4ad0x49){if([87,83,65,68,37,38,39,40][_0xbb1d[47]](_0x4ad0x49[_0xbb1d[41]])> -1){_0x4ad0x49[_0xbb1d[48]]()}},false);function runNPC(){setInterval(function(){npc[_0xbb1d[29]]+=1},npc[_0xbb1d[19]]*(40+(2/3)))}function npcKey(_0x4ad0x49){if((_0x4ad0x49[_0xbb1d[41]]==upKey||_0x4ad0x49[_0xbb1d[41]]==downKey||_0x4ad0x49[_0xbb1d[41]]==leftKey||_0x4ad0x49[_0xbb1d[41]]==rightKey)&& !npcCanMove){npcCanMove=true;pathNPC();}}function pathNPC(){var _0x4ad0x54=[target[_0xbb1d[29]],target[_0xbb1d[30]]];var _0x4ad0x55=[npc[_0xbb1d[29]],npc[_0xbb1d[30]]];var _0x4ad0x56=_0x4ad0x54;resetFrontier();parents=[];while(index<frontier[_0xbb1d[50]]){findArea()};var _0x4ad0x57=findPath(_0x4ad0x55,_0x4ad0x54);if(!arrEq(_0x4ad0x57[0],[-1,-1])&&_0x4ad0x57[_0xbb1d[50]]!=0){npc[_0xbb1d[29]]=_0x4ad0x57[_0x4ad0x57[_0xbb1d[50]]-1][0];npc[_0xbb1d[30]]=_0x4ad0x57[_0x4ad0x57[_0xbb1d[50]]-1][1];}else {console[_0xbb1d[52]](_0xbb1d[51])};}function findPath(start,_0x4ad0x59){var _0x4ad0x5a=[];if(inClosedCells(_0x4ad0x59)){while(!arrEq(_0x4ad0x59,start)){_0x4ad0x5a[_0xbb1d[36]](_0x4ad0x59);_0x4ad0x59=findParents(_0x4ad0x59);};return _0x4ad0x5a;};return [[-1,-1]];}function findParents(_0x4ad0x5c){for(var _0x4ad0x2c=0;_0x4ad0x2c<parents[_0xbb1d[50]];_0x4ad0x2c++){var _0x4ad0x5d=parents[_0x4ad0x2c][0];var _0x4ad0x5e=parents[_0x4ad0x2c][1];if(arrEq(_0x4ad0x5e,_0x4ad0x5c)){return _0x4ad0x5d};};return [-1,-1];}function findArea(){if(index<frontier[_0xbb1d[50]]){var _0x4ad0x60=getNeighbors(frontier[index]);if(_0x4ad0x60[_0xbb1d[50]]<1){index++;_0x4ad0x60=getNeighbors(frontier[index]);};var _0x4ad0x61=_0xbb1d[53];var _0x4ad0x62=0;for(var _0x4ad0x63=0;_0x4ad0x63<_0x4ad0x60[_0xbb1d[50]];_0x4ad0x63++){if(!inClosedCells(_0x4ad0x60[_0x4ad0x63])){closedCells[_0xbb1d[36]](_0x4ad0x60[_0x4ad0x63]);frontier[_0xbb1d[36]](_0x4ad0x60[_0x4ad0x63]);_0x4ad0x61+=_0x4ad0x60[_0x4ad0x63]+_0xbb1d[54];if(!inParents(_0x4ad0x60[_0x4ad0x63])){var _0x4ad0x64=[frontier[index],_0x4ad0x60[_0x4ad0x63]];parents[_0xbb1d[36]](_0x4ad0x64);_0x4ad0x62++;};}};index++;}}function getNeighbors(_0x4ad0x66){var _0x4ad0x67=[];var _0x4ad0x68=[_0x4ad0x66[0],_0x4ad0x66[1]-1];var _0x4ad0x69=[_0x4ad0x66[0]+1,_0x4ad0x66[1]];var _0x4ad0x6a=[_0x4ad0x66[0],_0x4ad0x66[1]+1];var _0x4ad0x6b=[_0x4ad0x66[0]-1,_0x4ad0x66[1]];if(((_0x4ad0x66[1]-1)>=0)&&(map[_0x4ad0x66[1]-1][_0x4ad0x66[0]]!=1)){_0x4ad0x67[_0xbb1d[36]](_0x4ad0x68)};if(((_0x4ad0x66[0]-1)>=0)&&(map[_0x4ad0x66[1]][_0x4ad0x66[0]-1]!=1)){_0x4ad0x67[_0xbb1d[36]](_0x4ad0x6b)};if(((_0x4ad0x66[1]+1)<map[_0xbb1d[50]])&&(map[_0x4ad0x66[1]+1][_0x4ad0x66[0]]!=1)){_0x4ad0x67[_0xbb1d[36]](_0x4ad0x6a)};if(((_0x4ad0x66[0]+1)<map[0][_0xbb1d[50]])&&(map[_0x4ad0x66[1]][_0x4ad0x66[0]+1]!=1)){_0x4ad0x67[_0xbb1d[36]](_0x4ad0x69)};return _0x4ad0x67;}function inClosedCells(_0x4ad0x66){for(var _0x4ad0x6d=0;_0x4ad0x6d<closedCells[_0xbb1d[50]];_0x4ad0x6d++){if(arrEq(_0x4ad0x66,closedCells[_0x4ad0x6d])){return true}};return false;}function inParents(_0x4ad0x66){for(var _0x4ad0x6d=0;_0x4ad0x6d<parents[_0xbb1d[50]];_0x4ad0x6d++){for(var _0x4ad0x6f=0;_0x4ad0x6f<parents[_0x4ad0x6d][_0xbb1d[50]];_0x4ad0x6f++){if(arrEq(_0x4ad0x66,parents[_0x4ad0x6d][_0x4ad0x6f])){return true}}};return false;}function arrEq(_0x4ad0x71,_0x4ad0x72){if(!Array[_0xbb1d[55]](_0x4ad0x71)){return false};for(var _0x4ad0x73=0;_0x4ad0x73<_0x4ad0x71[_0xbb1d[50]];_0x4ad0x73++){if(_0x4ad0x71[_0x4ad0x73]!==_0x4ad0x72[_0x4ad0x73]){return false}};return true;}function resetFrontier(){frontier=[];start=[npc[_0xbb1d[29]],npc[_0xbb1d[30]]];frontier[_0xbb1d[36]](start);closedCells=[];closedCells[_0xbb1d[36]](start);index=0;parents=[];}var mapType=_0xbb1d[56];function newMap(_0x4ad0x77){if(_0x4ad0x77==_0xbb1d[57]){mapType=_0xbb1d[57]}else {mapType=_0xbb1d[56]}}function createMap(){if(mapType==_0xbb1d[57]){createRandom()}else {createRooms()};if(document[_0xbb1d[60]](_0xbb1d[59])[_0xbb1d[58]]){floorPNG[_0xbb1d[11]]=_0xbb1d[61]}else {floorPNG[_0xbb1d[11]]=_0xbb1d[14]};rollPowerUp();turns=0;activeTurn=0;for(var w=0;w<itemList[_0xbb1d[50]];w++){itemList[w][_0xbb1d[62]]=false};target=player;addMoneys();npc[_0xbb1d[63]]=true;bombPNG[_0xbb1d[11]]=_0xbb1d[23];}var prevX;var prevY;var curX;var curY;function createRooms(){map=[];mapSet=false;prevX=null;prevY=null;curX=null;curY=null;for(var _0x4ad0x6d=0;_0x4ad0x6d<rows;_0x4ad0x6d++){var _0x4ad0x7f=[];for(var w=0;w<cols;w++){_0x4ad0x7f[_0xbb1d[36]](1)};map[_0xbb1d[36]](_0x4ad0x7f);};mapSet=true;var _0x4ad0x80=Math[_0xbb1d[16]](Math[_0xbb1d[57]]()*8)+4;for(var _0x4ad0x81=0;_0x4ad0x81<_0x4ad0x80;_0x4ad0x81++){var _0x4ad0x82=Math[_0xbb1d[16]](Math[_0xbb1d[57]]()*(rows-10))+1;var _0x4ad0x83=Math[_0xbb1d[16]](Math[_0xbb1d[57]]()*(cols-10))+1;for(var _0x4ad0x84=0;_0x4ad0x84<10;_0x4ad0x84++){if(map[_0x4ad0x82][_0x4ad0x83]==0){_0x4ad0x82=Math[_0xbb1d[16]](Math[_0xbb1d[57]]()*(rows-10))+1;_0x4ad0x83=Math[_0xbb1d[16]](Math[_0xbb1d[57]]()*(cols-10))+1;}};newRoom(_0x4ad0x82,_0x4ad0x83);};setWalls();resetPos(player);resetPos(npc);resetPos(hole);}function newRoom(_0x4ad0x2b,_0x4ad0x2c){var _0x4ad0x86=Math[_0xbb1d[16]](Math[_0xbb1d[57]]()*7)+3;var _0x4ad0x87=Math[_0xbb1d[16]](Math[_0xbb1d[57]]()*7)+3;for(var _0x4ad0x73=0;_0x4ad0x73<10;_0x4ad0x73++){if(roomHere(_0x4ad0x86,_0x4ad0x87)){_0x4ad0x86=Math[_0xbb1d[16]](Math[_0xbb1d[57]]()*7)+3;_0x4ad0x87=Math[_0xbb1d[16]](Math[_0xbb1d[57]]()*7)+3;}};if(!roomHere(_0x4ad0x86,_0x4ad0x87)){curX=_0x4ad0x2b+Math[_0xbb1d[64]](_0x4ad0x86/2);curY=_0x4ad0x2c+Math[_0xbb1d[64]](_0x4ad0x87/2);for(var _0x4ad0x6d=0;_0x4ad0x6d<_0x4ad0x86;_0x4ad0x6d++){for(var w=0;w<_0x4ad0x87;w++){map[_0x4ad0x6d+_0x4ad0x2b][w+_0x4ad0x2c]=0}};var _0x4ad0x88=Math[_0xbb1d[16]](Math[_0xbb1d[57]]()*2)+1;_0x4ad0x88==1?newAlley(_0xbb1d[65]):newAlley(_0xbb1d[66]);prevX=_0x4ad0x2b+Math[_0xbb1d[16]](_0x4ad0x86/2);prevY=_0x4ad0x2c+Math[_0xbb1d[16]](_0x4ad0x87/2);}else {return };}function roomHere(w,_0x4ad0x8a){for(var _0x4ad0x63=0;_0x4ad0x63<w;_0x4ad0x63++){for(var _0x4ad0x8b=0;_0x4ad0x8b<_0x4ad0x8a;_0x4ad0x8b++){if(map[_0x4ad0x63][_0x4ad0x8b]==0){return true}}};return false;}function newAlley(_0x4ad0x77){if((prevX!==null)&&(prevY!==null)){var _0x4ad0x8d=Math[_0xbb1d[67]](prevX-curX);var _0x4ad0x8e=Math[_0xbb1d[67]](prevY-curY);if(_0x4ad0x77==_0xbb1d[65]){for(var _0x4ad0x8f=0;_0x4ad0x8f<=_0x4ad0x8d;_0x4ad0x8f++){if(curX>prevX){map[prevX+_0x4ad0x8f][prevY]=0}else {map[prevX-_0x4ad0x8f][prevY]=0}};for(var _0x4ad0x90=0;_0x4ad0x90<=_0x4ad0x8e;_0x4ad0x90++){if(curY>prevY){map[curX][prevY+_0x4ad0x90]=0}else {map[curX][prevY-_0x4ad0x90]=0}};}else {if(_0x4ad0x77==_0xbb1d[66]){for(var _0x4ad0x91=0;_0x4ad0x91<=_0x4ad0x8e;_0x4ad0x91++){if(curY>prevY){map[curX][prevY+_0x4ad0x91]=0}else {map[curX][prevY-_0x4ad0x91]=0}};for(var _0x4ad0x92=0;_0x4ad0x92<=_0x4ad0x8d;_0x4ad0x92++){if(curX>prevX){map[prevX+_0x4ad0x92][prevY]=0}else {map[prevX-_0x4ad0x92][prevY]=0}};}};}else {return }}function createRandom(){console[_0xbb1d[52]](_0xbb1d[68]);map=[];mapSet=false;for(var _0x4ad0x94=0;_0x4ad0x94<rows;_0x4ad0x94++){var _0x4ad0x95=[];for(var _0x4ad0x96=0;_0x4ad0x96<cols;_0x4ad0x96++){var _0x4ad0x97=Math[_0xbb1d[16]](Math[_0xbb1d[57]]()*10);if(_0x4ad0x97>=7){_0x4ad0x95[_0xbb1d[36]](1)}else {_0x4ad0x95[_0xbb1d[36]](0)};};map[_0xbb1d[36]](_0x4ad0x95);};var _0x4ad0x98=document[_0xbb1d[60]](_0xbb1d[69])[_0xbb1d[58]];if(_0x4ad0x98){setWalls()};mapSet=true;resetPos(player);resetPos(hole);npc[_0xbb1d[29]]=hole[_0xbb1d[29]];npc[_0xbb1d[30]]=hole[_0xbb1d[30]];canReachEnd();resetPos(npc);}function canReachEnd(){var _0x4ad0x9a=[player[_0xbb1d[29]],player[_0xbb1d[30]]];var _0x4ad0x55=[npc[_0xbb1d[29]],npc[_0xbb1d[30]]];var _0x4ad0x56=_0x4ad0x9a;resetFrontier();parents=[];while(index<frontier[_0xbb1d[50]]){findArea()};var _0x4ad0x57=findPath(_0x4ad0x55,_0x4ad0x9a);if(arrEq(_0x4ad0x57[0],[-1,-1])){createRandom()};}function setWalls(){for(var _0x4ad0x9c=0;_0x4ad0x9c<cols;_0x4ad0x9c++){map[0][_0x4ad0x9c]=1};for(var _0x4ad0x9d=0;_0x4ad0x9d<cols;_0x4ad0x9d++){map[rows-1][_0x4ad0x9d]=1};for(var _0x4ad0x9e=0;_0x4ad0x9e<rows;_0x4ad0x9e++){map[_0x4ad0x9e][0]=1};for(var _0x4ad0x9f=0;_0x4ad0x9f<rows;_0x4ad0x9f++){map[_0x4ad0x9f][cols-1]=1};}function resetPos(_0x4ad0x4d){var _0x4ad0xa1=Math[_0xbb1d[16]](Math[_0xbb1d[57]]()*cols);var _0x4ad0xa2=Math[_0xbb1d[16]](Math[_0xbb1d[57]]()*rows);while(map[_0x4ad0xa2][_0x4ad0xa1]==1||(_0x4ad0xa1==hole[_0xbb1d[29]]&&_0x4ad0xa2==hole[_0xbb1d[30]])){_0x4ad0xa1=Math[_0xbb1d[16]](Math[_0xbb1d[57]]()*cols);_0x4ad0xa2=Math[_0xbb1d[16]](Math[_0xbb1d[57]]()*rows);};_0x4ad0x4d[_0xbb1d[29]]=_0x4ad0xa1;_0x4ad0x4d[_0xbb1d[30]]=_0x4ad0xa2;}function drawMap(){if(mapSet){for(var _0x4ad0xa4=0;_0x4ad0xa4<rows;_0x4ad0xa4++){for(var _0x4ad0x2c=0;_0x4ad0x2c<cols;_0x4ad0x2c++){if(map[_0x4ad0xa4][_0x4ad0x2c]==1){ctx[_0xbb1d[70]](wallPNG,_0x4ad0x2c*32,_0x4ad0xa4*32)}else {if(map[_0x4ad0xa4][_0x4ad0x2c]==0){ctx[_0xbb1d[70]](floorPNG,_0x4ad0x2c*32,_0x4ad0xa4*32)}}}}}}function printMap(){for(var _0x4ad0xa6=0;_0x4ad0xa6<rows;_0x4ad0xa6++){console[_0xbb1d[52]](map[_0x4ad0xa6].toString())}}function newGame(){if((player[_0xbb1d[29]]==hole[_0xbb1d[29]])&&(player[_0xbb1d[30]]==hole[_0xbb1d[30]])){createMap();score++;document[_0xbb1d[60]](_0xbb1d[72])[_0xbb1d[71]]=_0xbb1d[73]+score;}else {if((player[_0xbb1d[29]]==npc[_0xbb1d[29]])&&(player[_0xbb1d[30]]==npc[_0xbb1d[30]])&&npc[_0xbb1d[63]]){createMap();score=0;wallet=0;inventory=[_0xbb1d[35],_0xbb1d[35],_0xbb1d[35]];document[_0xbb1d[60]](_0xbb1d[72])[_0xbb1d[71]]=_0xbb1d[73]+0;}}}function rollPowerUp(){var _0x4ad0x97=Math[_0xbb1d[16]](Math[_0xbb1d[57]]()*10)+1;if(_0x4ad0x97<6&&_0x4ad0x97>3){resetPos(puddle);puddle[_0xbb1d[63]]=true;puddlePNG[_0xbb1d[11]]=_0xbb1d[74];}else {puddle[_0xbb1d[63]]=false};if(_0x4ad0x97<4){resetPos(bomb);bomb[_0xbb1d[63]]=true;}else {bomb[_0xbb1d[63]]=false};}function itemGet(){for(var _0x4ad0xaa=0;_0x4ad0xaa<itemList[_0xbb1d[50]];_0x4ad0xaa++){if((player[_0xbb1d[29]]==itemList[_0x4ad0xaa][_0xbb1d[29]])&&(player[_0xbb1d[30]]==itemList[_0x4ad0xaa][_0xbb1d[30]])&&(itemList[_0x4ad0xaa][_0xbb1d[63]]&&!itemList[_0x4ad0xaa][_0xbb1d[62]])&& !itemFull){newItem(itemList[_0x4ad0xaa]);itemList[_0x4ad0xaa][_0xbb1d[63]]=false;}}}function lootGet(){for(var _0x4ad0xaa=0;_0x4ad0xaa<cash[_0xbb1d[50]];_0x4ad0xaa++){if((player[_0xbb1d[29]]==cash[_0x4ad0xaa][_0xbb1d[29]])&&(player[_0xbb1d[30]]==cash[_0x4ad0xaa][_0xbb1d[30]])){wallet+=cash[_0x4ad0xaa][_0xbb1d[31]];cash[_0xbb1d[75]](_0x4ad0xaa,1);}}}function newItem(_0x4ad0xad){var _0x4ad0xae=false;for(var _0x4ad0xaa=0;_0x4ad0xaa<inventory[_0xbb1d[50]];_0x4ad0xaa++){if(!_0x4ad0xae&&inventory[_0x4ad0xaa]==_0xbb1d[35]){inventory[_0x4ad0xaa]=_0x4ad0xad;_0x4ad0xae=true;}};if(!_0x4ad0xae){itemFull=true};}function usePowerUp(_0x4ad0x49){var _0x4ad0xb0=inventory[0];var _0x4ad0xb1=inventory[1];var _0x4ad0xb2=inventory[2];if((_0x4ad0x49[_0xbb1d[41]]==49)&&(_0x4ad0xb0!=_0xbb1d[35])){_0x4ad0xb0[_0xbb1d[62]]=true;_0x4ad0xb0[_0xbb1d[29]]=player[_0xbb1d[29]];_0x4ad0xb0[_0xbb1d[30]]=player[_0xbb1d[30]];_0x4ad0xb0[_0xbb1d[63]]=true;activeTurn=turns;inventory[0]=_0xbb1d[35];itemFull=false;}else {if((_0x4ad0x49[_0xbb1d[41]]==50)&&(_0x4ad0xb1!=_0xbb1d[35])){_0x4ad0xb1[_0xbb1d[62]]=true;_0x4ad0xb1[_0xbb1d[29]]=player[_0xbb1d[29]];_0x4ad0xb1[_0xbb1d[30]]=player[_0xbb1d[30]];_0x4ad0xb1[_0xbb1d[63]]=true;activeTurn=turns;inventory[1]=_0xbb1d[35];itemFull=false;}else {if((_0x4ad0x49[_0xbb1d[41]]==51)&&(_0x4ad0xb2!=_0xbb1d[35])){_0x4ad0xb2[_0xbb1d[62]]=true;_0x4ad0xb2[_0xbb1d[29]]=player[_0xbb1d[29]];_0x4ad0xb2[_0xbb1d[30]]=player[_0xbb1d[30]];_0x4ad0xb2[_0xbb1d[63]]=true;activeTurn=turns;inventory[2]=_0xbb1d[35];itemFull=false;}}};}function activatePowerUp(){if(puddle[_0xbb1d[62]]&&puddle[_0xbb1d[63]]){puddlePNG[_0xbb1d[11]]=_0xbb1d[26];if(activeTurn+5!=turns){target=puddle}else {puddle[_0xbb1d[63]]=false;puddle[_0xbb1d[62]]=false;target=player;activeTurn= -1;};};if(bomb[_0xbb1d[62]]&&bomb[_0xbb1d[63]]){bombTime=turns-activeTurn+1;if(bombTime!=5){bombPNG[_0xbb1d[11]]=_0xbb1d[76]+bombTime+_0xbb1d[77]}else {explode(3);bomb[_0xbb1d[63]]=false;bomb[_0xbb1d[62]]=false;activeTurn= -1;bombPNG[_0xbb1d[11]]=_0xbb1d[23];};};}function explode(_0x4ad0xb5){for(var _0x4ad0x2b=-_0x4ad0xb5;_0x4ad0x2b<_0x4ad0xb5;_0x4ad0x2b++){for(var _0x4ad0x2c=-_0x4ad0xb5;_0x4ad0x2c<_0x4ad0xb5;_0x4ad0x2c++){var _0x4ad0xb6=bomb[_0xbb1d[29]]+_0x4ad0x2b;var _0x4ad0xb7=bomb[_0xbb1d[30]]+_0x4ad0x2c;if(_0x4ad0xb7>=0&&_0x4ad0xb6>=0){map[_0x4ad0xb7][_0x4ad0xb6]=0};if(npc[_0xbb1d[29]]==_0x4ad0xb6&&npc[_0xbb1d[30]]==_0x4ad0xb7){npc[_0xbb1d[63]]=false};}}}var cash=[];function addMoneys(){cash=[];maxCash=Math[_0xbb1d[78]](Math[_0xbb1d[57]]()*9)+1;for(var _0x4ad0xba=0;_0x4ad0xba<maxCash;_0x4ad0xba++){cash[_0xbb1d[36]](newMoneys())};}function newMoneys(){var _0x4ad0x2d=moneyAlgorithm();var _0x4ad0xbc= new money(0,0,_0x4ad0x2d[0],_0x4ad0x2d[1]);resetPos(_0x4ad0xbc);return _0x4ad0xbc;}function moneyAlgorithm(){var _0x4ad0x97=Math[_0xbb1d[78]](Math[_0xbb1d[57]]()*99)+1;var _0x4ad0xbe=[1,_0xbb1d[79]];if(_0x4ad0x97<=50){_0x4ad0xbe=[1,_0xbb1d[79]]}else {if(_0x4ad0x97>50&&_0x4ad0x97<=75){_0x4ad0xbe=[5,_0xbb1d[80]]}else {if(_0x4ad0x97>75&&_0x4ad0x97<=90){_0x4ad0xbe=[10,_0xbb1d[81]]}else {if(_0x4ad0x97>90&&_0x4ad0x97<=100){_0x4ad0xbe=[20,_0xbb1d[82]]}}}};return _0x4ad0xbe;}function drawMoneys(){for(var _0x4ad0xc0=0;_0x4ad0xc0<cash[_0xbb1d[50]];_0x4ad0xc0++){ctx[_0xbb1d[70]](cash[_0x4ad0xc0][_0xbb1d[32]],cash[_0x4ad0xc0][_0xbb1d[29]]*32,cash[_0x4ad0xc0][_0xbb1d[30]]*32)}}function showInventoryandMoney(){var _0x4ad0xc2=_0xbb1d[53];for(var _0x4ad0x49=0;_0x4ad0x49<inventory[_0xbb1d[50]];_0x4ad0x49++){if(inventory[_0x4ad0x49]!=_0xbb1d[35]){_0x4ad0xc2+=inventory[_0x4ad0x49][_0xbb1d[83]]+_0xbb1d[54]}else {_0x4ad0xc2+=inventory[_0x4ad0x49]+_0xbb1d[54]}};document[_0xbb1d[60]](_0xbb1d[84])[_0xbb1d[71]]=_0xbb1d[85]+_0x4ad0xc2;document[_0xbb1d[60]](_0xbb1d[86])[_0xbb1d[71]]=_0xbb1d[87]+wallet;}function render(){if(playing){if(wallReady){var _0x4ad0xc4=ctx[_0xbb1d[89]](wallPNG,_0xbb1d[88]);ctx[_0xbb1d[90]]=_0x4ad0xc4;ctx[_0xbb1d[91]](0,0,canvas[_0xbb1d[4]],canvas[_0xbb1d[6]]);};if(wallReady&&floorReady){drawMap()};if(holeReady){ctx[_0xbb1d[70]](holePNG,hole[_0xbb1d[29]]*32,hole[_0xbb1d[30]]*32)};if(puddleReady&&puddle[_0xbb1d[63]]){ctx[_0xbb1d[70]](puddlePNG,puddle[_0xbb1d[29]]*32,puddle[_0xbb1d[30]]*32)};if(bombReady&&bomb[_0xbb1d[63]]){ctx[_0xbb1d[70]](bombPNG,bomb[_0xbb1d[29]]*32,bomb[_0xbb1d[30]]*32)};drawMoneys();if(playerReady){ctx[_0xbb1d[70]](playerPNG,player[_0xbb1d[29]]*32,player[_0xbb1d[30]]*32)};if(npcReady&&npc[_0xbb1d[63]]){ctx[_0xbb1d[70]](npcPNG,npc[_0xbb1d[29]]*32,npc[_0xbb1d[30]]*32)};}}function fillAll(){for(var _0x4ad0xaa=0;_0x4ad0xaa<closedCells[_0xbb1d[50]];_0x4ad0xaa++){var _0x4ad0xc6=closedCells[_0x4ad0xaa];if(fillReady){ctx[_0xbb1d[70]](fillPNG,_0x4ad0xc6[0]*32,_0x4ad0xc6[1]*32)};}}function main(){var _0x4ad0xc8=Date[_0xbb1d[92]]();var _0x4ad0xc9=_0x4ad0xc8-then;render();then=_0x4ad0xc8;requestAnimationFrame(main);window[_0xbb1d[49]](_0xbb1d[46],moveType,false);window[_0xbb1d[49]](_0xbb1d[46],npcKey,false);window[_0xbb1d[49]](_0xbb1d[46],debugDown,false);window[_0xbb1d[49]](_0xbb1d[46],usePowerUp,false);window[_0xbb1d[49]](_0xbb1d[93],resetKey,false);window[_0xbb1d[49]](_0xbb1d[94],debug,false);canvas[_0xbb1d[39]]();newGame();showInventoryandMoney();itemGet();lootGet();activatePowerUp();}var w=window;requestAnimationFrame=w[_0xbb1d[95]]||w[_0xbb1d[96]]||w[_0xbb1d[97]]||w[_0xbb1d[98]];var then=Date[_0xbb1d[92]]();main();function instructions(){var _0x4ad0xcc=_0xbb1d[99];alert(_0x4ad0xcc);}function credits(){var _0x4ad0xce=_0xbb1d[100];alert(_0x4ad0xce);}function debug(_0x4ad0x49){if(_0x4ad0x49[_0xbb1d[41]]==122){console[_0xbb1d[52]](_0xbb1d[101]+player[_0xbb1d[29]]+_0xbb1d[102]+player[_0xbb1d[30]])}}function debugDown(_0x4ad0x49){if(_0x4ad0x49[_0xbb1d[41]]==87){}}